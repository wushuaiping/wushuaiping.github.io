{"title":"docker安装并运行ElasticSearch-Head插件","date":"2018-11-26T06:31:20.000Z","slug":"docker安装并运行ElasticSearch-Head插件","comments":true,"tags":["docker/ElasticSearch"],"updated":"2019-05-11T16:53:31.686Z","content":"<h2 id=\"使用docker安装es-head插件\">使用docker安装es-head插件<a href=\"post/docker安装并运行ElasticSearch-Head插件#使用docker安装es-head插件\"></a></h2><p> es-head插件支持es几个版本。</p>\n<ul>\n<li>Elasticsearch 5.x: <code>docker run -p 9100:9100 mobz/elasticsearch-head:5</code></li>\n<li>Elasticsearch 2.x: <code>docker run -p 9100:9100 mobz/elasticsearch-head:2</code></li>\n<li><p>Elasticsearch 1.x: <code>docker run -p 9100:9100 mobz/elasticsearch-head:1</code></p>\n<p>我使用的是ElasticSearch 5.6.1版本，所以使用<code>docker run -p 9100:9100 mobz/elasticsearch-head:5</code>该命令。安装好以后，访问9100端口。此时无法访问：</p>\n</li>\n</ul>\n<div class=\"article-img\"><p><img src=\"https://oscimg.oschina.net/oscnet/ab2cd8622f3a8474d7bda9b9166cb75eb45.jpg\" alt data-zoomable></p></div>\n<h2 id=\"配置跨域\">配置跨域<a href=\"post/docker安装并运行ElasticSearch-Head插件#配置跨域\"></a></h2><p>使用<code>docker exec -it &lt;your CONTAINER ID or CONTAINER NAME&gt; bash</code> 进入ElasticSearch的终端。</p>\n<div class=\"article-img\"><p><img src=\"https://oscimg.oschina.net/oscnet/fa474ae334e61be61a3d74d6b7a62e87cbc.jpg\" alt data-zoomable></p></div>\n<p>ps: 这里输入了<code>docker ps</code>属于手误，习惯了。</p>\n<p>进入终端后，默认是在elasticsearch的文件夹，所以直接<code>cd config</code>打开配置文件夹:</p>\n<div class=\"article-img\"><p><img src=\"https://oscimg.oschina.net/oscnet/c8ccfa5306821b840d76c8a6c5b364c8f35.jpg\" alt data-zoomable></p></div>\n<p>使用<code>vim elasticsearch.yml</code>命令，打开elasticsearch的配置文件<code>elasticsearch.yml</code>提示:</p>\n<div class=\"article-img\"><p><img src=\"https://oscimg.oschina.net/oscnet/9999c7e35411712d086e69f10a585c75778.jpg\" alt data-zoomable></p></div>\n<p>这个镜像容器没有安装<code>vim</code>的，我这里可以使用<code>apt-get</code>命令，于是使用<code>apt-get</code>命令更新一下<code>apt-get</code>资源库, 更新好以后使用<code>apt-get install vim</code>安装<code>vim</code>:</p>\n<div class=\"article-img\"><p><img src=\"https://oscimg.oschina.net/oscnet/8a7d14afe2b67c964ec1c00c5d27231012c.jpg\" alt data-zoomable></p></div>\n<p>然后使用<code>vim elasticsearch.yml</code>命令打开配置文件，在文件末尾加入配置:</p>\n<p><code>http.cors.enabled: true\nhttp.cors.allow-origin: &quot;*&quot;</code><br><img src=\"https://oscimg.oschina.net/oscnet/16ab5ee99b9a449254316cb513edca24968.jpg\" alt></p>\n<p>然后<code>esc</code> <code>:</code> <code>wq</code>保存文件并退出。使用<code>exit</code>退出终端后，重启elasticseach:</p>\n<div class=\"article-img\"><p><img src=\"https://oscimg.oschina.net/oscnet/592e8124df48d88d1de784d8307d352ac68.jpg\" alt data-zoomable></p></div>\n<p>重新访问9100端口:</p>\n<div class=\"article-img\"><p><img src=\"https://oscimg.oschina.net/oscnet/ba17324b18de7f8b40cd4017d9b03e5848a.jpg\" alt data-zoomable></p></div>\n<p>OJBK</p>\n","prev":{"title":"docker将本地目录挂载到容器","slug":"docker将本地目录挂载到容器"},"next":{"title":"ElasticSearch的RestApi使用","slug":"ElasticSearch的RestApi使用"},"link":"http://wooo.io/post/docker安装并运行ElasticSearch-Head插件/","toc":[{"title":"使用docker安装es-head插件","id":"使用docker安装es-head插件","index":"1"},{"title":"配置跨域","id":"配置跨域","index":"2"}]}