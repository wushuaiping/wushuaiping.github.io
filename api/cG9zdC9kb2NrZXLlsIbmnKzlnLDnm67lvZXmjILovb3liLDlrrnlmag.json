{"title":"docker将本地目录挂载到容器","date":"2018-11-26T08:10:26.000Z","slug":"docker将本地目录挂载到容器","comments":true,"tags":["docker"],"updated":"2019-05-11T16:53:48.129Z","content":"<h2 id=\"背景\">背景<a href=\"post/docker将本地目录挂载到容器#背景\"></a></h2><p>因为在服务器上安装了elasticsearch，还需要装一个ik插件到elasticsearch中去，如果直接去docker容器里面去安装该插件，肯定还需要很多额外操作，比如安装git、vim等等。很麻烦，所以不如直接在宿主机上挂载一个目录到容器中去。</p>\n<h2 id=\"options-v\">options  -v<a href=\"post/docker将本地目录挂载到容器#options-v\"></a></h2><p>命令如下:<br><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">docker run -d </span><br><span class=\"line\">\\ -v /home/es_config/plugins:/usr/share/elasticsearch/plugins </span><br><span class=\"line\">\\ -p 0.0.0.0:9200:9200 </span><br><span class=\"line\">\\ -p 0.0.0.0:9300:9300 </span><br><span class=\"line\">\\ -e &quot;ES_JAVA_OPTS=-Xms512m -Xmx512m&quot;</span><br><span class=\"line\">\\ --name=tensquare_es elasticsearch:5.6.13</span><br></pre></td></tr></table></figure></p>\n<p>其中<code>-v /home/es_config/plugin:/usr/share/elasticsearch/plugin</code><br>冒号<code>:</code>前面是宿主机的文件夹地址，冒号<code>:</code>后面是docker容器中的文件夹地址。</p>\n<h2 id=\"test\">test<a href=\"post/docker将本地目录挂载到容器#test\"></a></h2><p>测试一下是否挂载成功，首先在宿主机新建一个文件夹或一个文件:</p>\n<div class=\"article-img\"><p><img src=\"https://oscimg.oschina.net/oscnet/25de7edd256f4f19f25d7bb906300ecc0b0.jpg\" alt data-zoomable></p></div>\n<p>进入容器查看文件是否存在:</p>\n<div class=\"article-img\"><p><img src=\"https://oscimg.oschina.net/oscnet/00d86d97cb44810cc8259acf5a9be19b816.jpg\" alt data-zoomable></p></div>\n<p>然后在容器中删除该文件:</p>\n<div class=\"article-img\"><p><img src=\"https://oscimg.oschina.net/oscnet/509958902e3568b6625b2d5ba166763662c.jpg\" alt data-zoomable></p></div>\n<p>退出容器，看宿主机中的文件是否存在:</p>\n<div class=\"article-img\"><p><img src=\"https://oscimg.oschina.net/oscnet/8e23545a19b41fe85d2a6492eba05067d06.jpg\" alt data-zoomable></p></div>\n<p>已经不在了。</p>\n<p>OJBK</p>\n","prev":{"title":"Spring boot 2.X启动报错：Specified key was too long; max key length is 1000 bytes","slug":"Spring-boot-2-X启动报错：Specified-key-was-too-long-max-key-length-is-1000-bytes"},"next":{"title":"docker安装并运行ElasticSearch-Head插件","slug":"docker安装并运行ElasticSearch-Head插件"},"link":"http://wooo.io/post/docker将本地目录挂载到容器/","toc":[{"title":"背景","id":"背景","index":"1"},{"title":"options  -v","id":"options-v","index":"2"},{"title":"test","id":"test","index":"3"}]}