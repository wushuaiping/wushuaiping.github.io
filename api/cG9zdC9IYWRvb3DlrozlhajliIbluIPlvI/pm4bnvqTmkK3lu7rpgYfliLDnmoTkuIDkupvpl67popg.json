{"title":"Hadoop完全分布式集群搭建遇到的一些问题","date":"2018-12-29T01:58:43.000Z","slug":"Hadoop完全分布式集群搭建遇到的一些问题","comments":true,"tags":["Hadoop"],"updated":"2019-05-11T16:49:44.342Z","content":"<h4 id=\"使用了3台在不同地区的服务器搭建集群，导致master机器的namenode无法启动的问题\">使用了3台在不同地区的服务器搭建集群，导致master机器的namenode无法启动的问题<a href=\"post/Hadoop完全分布式集群搭建遇到的一些问题#使用了3台在不同地区的服务器搭建集群，导致master机器的namenode无法启动的问题\"></a></h4><p>最开始遇到这个问题的时候，在master主机上使用jps命令发现master的namenode没有启动抵赖。于是我去看日志，发现报了一个BindException的错误。然后通过google先把/etc/hosts文件里面的ip映射改了一下，最开始是</p>\n<p><code>外网ip master</code></p>\n<p>这种方式配置的hosts。</p>\n<p>我改为了<code>127.0.0.1 master</code>，然后启动，发现namenode能正常启动了，但是去slave机器看的时候，发现slave机器的DateNode无法与master的NameNode通信。最后又去找了下资料，然后把hosts配置中的<code>127.0.0.1 master</code>改为了<code>master主机的内网IP master</code>， 最后再启动发现slave的datanode能正常连接master的NameNode了。</p>\n<h4 id=\"启动yarn报错Unresolved-address\">启动yarn报错Unresolved address<a href=\"post/Hadoop完全分布式集群搭建遇到的一些问题#启动yarn报错Unresolved-address\"></a></h4><p>在使用start-all.sh启动完毕集群后，去访问8088yarn管理页面的时候，无法访问，然后查看yarn resourcemanager的日志时发现这个报错：</p>\n<div class=\"article-img\"><p><img src=\"https://oscimg.oschina.net/oscnet/63cb1b7100aed927f222e508d767696d487.jpg\" alt data-zoomable></p></div>\n<p>这个错显然是resourcemanager的主机名配置错了，查看hosts文件：</p>\n<div class=\"article-img\"><p><img src=\"https://oscimg.oschina.net/oscnet/645eaba14be3c97369ce780e16497d73106.jpg\" alt data-zoomable></p></div>\n<p>然后把yarn-site.xml的配置改过来，改成chinamaster：</p>\n<div class=\"article-img\"><p><img src=\"https://oscimg.oschina.net/oscnet/a4d3832031c4035c9d5d998d4969d57311e.jpg\" alt data-zoomable></p></div>\n<p>然后集群中的所有yarn-site.xml配置文件都要改过来。</p>\n","prev":{"title":"Hadoop常用命令","slug":"hadoop相关命令"},"next":{"title":"Hadoop伪分布式搭建","slug":"Hadoop伪分布式搭建"},"link":"http://wooo.io/post/Hadoop完全分布式集群搭建遇到的一些问题/"}