{"title":"ElasticSearch的RestApi使用","date":"2018-11-23T08:59:12.000Z","slug":"ElasticSearch的RestApi使用","comments":true,"tags":["ElasticSearch"],"updated":"2019-05-11T16:33:40.649Z","content":"<ul>\n<li>工具使用的是postman</li>\n</ul>\n<h4 id=\"新建索引库\">新建索引库<a href=\"post/ElasticSearch的RestApi使用#新建索引库\"></a></h4><ul>\n<li>PUT <a href=\"http://localhost:9200/\" target=\"_blank\" rel=\"noopener\">http://localhost:9200/</a>&lt;你的索引库名称&gt;</li>\n</ul>\n<p>请求:</p>\n<div class=\"article-img\"><p><img src=\"https://oscimg.oschina.net/oscnet/d50fa79eb175101f5a68a4496fe668acc8a.jpg\" alt data-zoomable></p></div>\n<p>响应：</p>\n<div class=\"article-img\"><p><img src=\"https://oscimg.oschina.net/oscnet/4ccb311908e3d68cf400bfbab6877d35b9b.jpg\" alt data-zoomable></p></div>\n<h4 id=\"在索引库中新建分类和文档\">在索引库中新建分类和文档<a href=\"post/ElasticSearch的RestApi使用#在索引库中新建分类和文档\"></a></h4><ul>\n<li><p>POST <a href=\"http://localhost:9200/\" target=\"_blank\" rel=\"noopener\">http://localhost:9200/</a>&lt;你的索引库名称&gt;/&lt;要新建的分类名称&gt;</p>\n<p>请求：</p>\n<p><img src=\"https://oscimg.oschina.net/oscnet/19028c06ba72f8c023d592b80c311b967b9.jpg\" alt></p>\n</li>\n</ul>\n<p>响应:</p>\n<div class=\"article-img\"><p><img src=\"https://oscimg.oschina.net/oscnet/2d24ce3f41f41fbf97f42fa685d98a5e72f.jpg\" alt data-zoomable></p></div>\n<h4 id=\"查询所有文档\">查询所有文档<a href=\"post/ElasticSearch的RestApi使用#查询所有文档\"></a></h4><ul>\n<li>GET <a href=\"http://localhost:9200/\" target=\"_blank\" rel=\"noopener\">http://localhost:9200/</a>&lt;你要查询的索引库&gt;/&lt;你要查询的分类&gt;/_search</li>\n</ul>\n<p>请求：</p>\n<div class=\"article-img\"><p><img src=\"https://oscimg.oschina.net/oscnet/1ef6e02708a6eb3f8a0a82d1926833e0c47.jpg\" alt data-zoomable></p></div>\n<p>响应：</p>\n<div class=\"article-img\"><p><img src=\"https://oscimg.oschina.net/oscnet/1aa9e000feb0ef53f77c7493f309870b0e8.jpg\" alt data-zoomable></p></div>\n<h4 id=\"根据id查询文档\">根据id查询文档<a href=\"post/ElasticSearch的RestApi使用#根据id查询文档\"></a></h4><ul>\n<li>GET <a href=\"http://localhost:9200/tensquare_elasticsearch/article/\" target=\"_blank\" rel=\"noopener\">http://localhost:9200/tensquare_elasticsearch/article/</a>&lt;你的文档id&gt;</li>\n</ul>\n<p>请求:</p>\n<div class=\"article-img\"><p><img src=\"https://oscimg.oschina.net/oscnet/88afa6dac82fc7ebe784aab15c77c222765.jpg\" alt data-zoomable></p></div>\n<p>响应：</p>\n<div class=\"article-img\"><p><img src=\"https://oscimg.oschina.net/oscnet/0e6b7f2b15ad2dd6737365fc9bf1334ac81.jpg\" alt data-zoomable></p></div>\n<h4 id=\"基本匹配查询\">基本匹配查询<a href=\"post/ElasticSearch的RestApi使用#基本匹配查询\"></a></h4><ul>\n<li><p>GET <a href=\"http://localhost:9200/\" target=\"_blank\" rel=\"noopener\">http://localhost:9200/</a>&lt;你要查询的索引库&gt;/&lt;你要查询的分类&gt;/_search?q=&lt;你定义的字段名&gt;:&lt;要查询的值&gt;</p>\n<p>在查询之前，我先插入了几条数据：</p>\n</li>\n</ul>\n<div class=\"article-img\"><p><img src=\"https://oscimg.oschina.net/oscnet/567367e5ad379e520c0b0e596ab80627846.jpg\" alt data-zoomable></p></div>\n<p>查字段为title，值为spring的:</p>\n<div class=\"article-img\"><p><img src=\"https://oscimg.oschina.net/oscnet/e1c2042dbf133c0717766a51ddddd03b5b4.jpg\" alt data-zoomable></p></div>\n<p>查字段为content，值为java的:</p>\n<div class=\"article-img\"><p><img src=\"https://oscimg.oschina.net/oscnet/80842d18d0c6ed043d0024792af767b5f07.jpg\" alt data-zoomable></p></div>\n<h4 id=\"模糊查询\">模糊查询<a href=\"post/ElasticSearch的RestApi使用#模糊查询\"></a></h4><ul>\n<li>GET <a href=\"http://localhost:9200/\" target=\"_blank\" rel=\"noopener\">http://localhost:9200/</a>&lt;你要查询的索引库&gt;/&lt;你要查询的分类&gt;/_search?q=&lt;你定义的字段名&gt;:<em>&lt;要查询的值&gt;</em></li>\n</ul>\n<p>请求：</p>\n<div class=\"article-img\"><p><img src=\"https://oscimg.oschina.net/oscnet/144cf7e270e88b9a6d195d1e201d16a69d7.jpg\" alt data-zoomable></p></div>\n<p>响应：</p>\n<div class=\"article-img\"><p><img src=\"https://oscimg.oschina.net/oscnet/76b1fd63e5cb9486c485ce86c013e54d2f5.jpg\" alt data-zoomable></p></div>\n<h4 id=\"修改文档\">修改文档<a href=\"post/ElasticSearch的RestApi使用#修改文档\"></a></h4><ul>\n<li>PUT <a href=\"http://localhost:9200/\" target=\"_blank\" rel=\"noopener\">http://localhost:9200/</a>&lt;你的索引库&gt;/&lt;你的分类&gt;/&lt;要修改的文档_id&gt;</li>\n</ul>\n<p>请求：</p>\n<div class=\"article-img\"><p><img src=\"https://oscimg.oschina.net/oscnet/5ecd9d7c1dc00cedb626ac205397110ac8b.jpg\" alt data-zoomable></p></div>\n<p>响应：</p>\n<div class=\"article-img\"><p><img src=\"https://oscimg.oschina.net/oscnet/44a98a577165af48886ff4a86a0bfb140d7.jpg\" alt data-zoomable></p></div>\n<p>使用修改的时候，如果你的_id传正确了他就会修改，如果传了一个库里面没有的_id，则会新建一条数据,并且使用的_id是传入的_id</p>\n<p>请求：</p>\n<div class=\"article-img\"><p><img src=\"https://oscimg.oschina.net/oscnet/7f2173f0d5c5f12198a4d0dfbb38257c797.jpg\" alt data-zoomable></p></div>\n<p>响应：</p>\n<div class=\"article-img\"><p><img src=\"https://oscimg.oschina.net/oscnet/733dc26e82f2769e9e5dd7a71c681a302bc.jpg\" alt data-zoomable></p></div>\n<p>来查询这个文档:</p>\n<div class=\"article-img\"><p><img src=\"https://oscimg.oschina.net/oscnet/476d9d6179cfd233e59337479c2697a3e0d.jpg\" alt data-zoomable></p></div>\n<h4 id=\"删除某个id的文档\">删除某个id的文档<a href=\"post/ElasticSearch的RestApi使用#删除某个id的文档\"></a></h4><ul>\n<li>DELETE <a href=\"http://localhost:9200/\" target=\"_blank\" rel=\"noopener\">http://localhost:9200/</a>&lt;索引库&gt;/&lt;分类&gt;/&lt;要删除的文档id&gt;</li>\n</ul>\n<p>删除id为2的文档：</p>\n<div class=\"article-img\"><p><img src=\"https://oscimg.oschina.net/oscnet/55dee29bc35ddc3e23deb615f25a2bf2596.jpg\" alt data-zoomable></p></div>\n<p>响应：</p>\n<div class=\"article-img\"><p><img src=\"https://oscimg.oschina.net/oscnet/e6e2dc56d0e4143bb8b8b03ae19a34c61a9.jpg\" alt data-zoomable></p></div>\n<p>通过查询所有文档的api查看id为2的文档是否被删除：</p>\n<div class=\"article-img\"><p><img src=\"https://oscimg.oschina.net/oscnet/b5c85c29ad7a1ff5ba17bc14fd76c67e4be.jpg\" alt data-zoomable></p></div>\n","prev":{"title":"docker安装并运行ElasticSearch-Head插件","slug":"docker安装并运行ElasticSearch-Head插件"},"next":{"title":"spring boot 2.x data redis 的简单使用","slug":"spring-boot-2-x-data-redis-的简单使用"},"link":"http://wooo.io/post/ElasticSearch的RestApi使用/"}